<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Farm to Fork: Transparent Agriculture Powered by Blockchain</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcode-generator/qrcode.js"></script>
    <script src="https://unpkg.com/html5-qrcode"></script>
</head>
<body>
    <!-- Landing Page -->
    <div id="landingPage" class="landing-page">
        <nav class="landing-nav">
            <div class="nav-brand">
                <img src="logo.png" alt="Farm to Fork Logo" class="logo">
                <span>Farm to Fork</span>
            </div>
            <div>
                <button class="btn btn--outline" id="loginNavBtn">Login</button>
                <button class="btn btn--primary" id="registerNavBtn">Register</button>
            </div>
        </nav>
        
        <div class="hero-section">
            <div class="hero-content">
                <div class="hero-icon">
                    <i class="fas fa-hands-helping"></i>
                </div>
                <h1 class="hero-title">Farm to Fork: <span class="highlight-green">Trust</span> in Every Grain</h1>
                <p class="hero-subtitle">Connecting farmers, retailers, and consumers with <span class="highlight-yellow">fair prices</span> and full <span class="highlight-green">transparency</span> ‚Äî powered by secure technology.</p>
                <div class="hero-cta">
                    <button class="btn btn--primary btn--lg" id="loginHeroBtn">Login</button>
                    <button class="btn btn--outline btn--lg" id="scanQRBtn">Scan Produce QR</button>
                </div>
            </div>
        </div>

        <div class="features-section">
            <div class="container">
                <div class="feature-grid">
                    <div class="feature-item">
                        <div class="feature-icon gradient-green">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <h4>Tamper-Proof Records</h4>
                        <p>Every step from farm to shelf is permanently recorded and cannot be changed.</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon gradient-orange">
                            <i class="fas fa-handshake"></i>
                        </div>
                        <h4>Guaranteed Fair Price</h4>
                        <p>Smart contracts ensure farmers are paid automatically and fairly.</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon gradient-blue">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <h4>100% Genuine Produce</h4>
                        <p>Verify the origin and journey of your food with a simple QR scan.</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon gradient-yellow">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <h4>Live Crop Insights</h4>
                        <p>Farmers get real-time data to manage inventory and sales effectively.</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="impact-counters-section">
            <div class="container">
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-number">500+</div>
                        <div class="stat-label">Farmers Onboarded</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">10,000+</div>
                        <div class="stat-label">Verified Transactions</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">20%</div>
                        <div class="stat-label">Increase in Farmer Income</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="how-it-works-section">
            <div class="container">
                <h2>How It Works in 3 Simple Steps</h2>
                <div class="steps-grid">
                    <div class="step-card">
                        <div class="step-icon">1</div>
                        <h3>Farmer Uploads Crop</h3>
                        <p>Farmers register their produce, creating a unique digital identity for each batch.</p>
                    </div>
                    <div class="step-card">
                        <div class="step-icon">2</div>
                        <h3>Retailer Bids</h3>
                        <p>Distributors and retailers bid on crops in a transparent marketplace, ensuring fair prices.</p>
                    </div>
                    <div class="step-card">
                        <div class="step-icon">3</div>
                        <h3>Consumer Scans QR</h3>
                        <p>Consumers scan a QR code on the product to see its entire journey from the farm.</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="testimonial-section">
            <div class="container">
                <blockquote>
                    <p>"Now I sell at a fair price, directly to buyers. This platform has given me the confidence and financial security I needed."</p>
                    <footer>‚Äî Ramesh Kumar, Farmer from Maharashtra</footer>
                </blockquote>
            </div>
        </div>

        <div class="role-selection-section">
            <div class="container">
                <h2>Choose Your Role</h2>
                <div class="roles-grid">
                    <div class="role-card farmer-theme" data-role="farmer">
                        <div class="role-icon">üë®‚Äçüåæ</div>
                        <h3>Farmer</h3>
                        <p>Register crops, manage inventory, monitor bids, and track earnings</p>
                        <ul>
                            <li>Crop registration & QR generation</li>
                            <li>Real-time bid monitoring</li>
                            <li>Earnings analytics</li>
                        </ul>
                        <button class="btn btn--primary">Enter as Farmer</button>
                    </div>
                    <div class="role-card distributor-theme" data-role="distributor">
                        <div class="role-icon">üöö</div>
                        <h3>Distributor</h3>
                        <p>Browse available crops, place competitive bids, manage logistics</p>
                        <ul>
                            <li>Smart bidding system</li>
                            <li>Logistics management</li>
                            <li>Performance analytics</li>
                        </ul>
                        <button class="btn btn--primary">Enter as Distributor</button>
                    </div>
                    <div class="role-card retailer-theme" data-role="retailer">
                        <div class="role-icon">üè¨</div>
                        <h3>Retailer</h3>
                        <p>Verify product authenticity, manage inventory, track deliveries</p>
                        <ul>
                            <li>QR verification system</li>
                            <li>Quality assurance</li>
                            <li>Shelf life monitoring</li>
                        </ul>
                        <button class="btn btn--primary">Enter as Retailer</button>
                    </div>
                    <div class="role-card consumer-theme" data-role="consumer">
                        <div class="role-icon">üõí</div>
                        <h3>Consumer</h3>
                        <p>Scan QR codes, trace product journey, verify authenticity</p>
                        <ul>
                            <li>Product journey visualization</li>
                            <li>Authenticity verification</li>
                            <li>Farmer connection</li>
                        </ul>
                        <button class="btn btn--primary">Enter as Consumer</button>
                    </div>
                    <div class="role-card admin-theme" data-role="admin">
                        <div class="role-icon">‚öôÔ∏è</div>
                        <h3>Admin</h3>
                        <p>Monitor system health, analyze platform metrics, manage users</p>
                        <ul>
                            <li>System analytics</li>
                            <li>Blockchain monitoring</li>
                            <li>Platform management</li>
                        </ul>
                        <button class="btn btn--primary">Enter as Admin</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Application -->
    <div id="mainApp" class="main-app hidden">
        <!-- Navigation Header -->
        <nav class="nav-header">
            <div class="nav-brand">
                <img src="logo.png" alt="Farm to Fork Logo" class="logo">
                <span>Farm To Fork</span>
            </div>
            <div class="nav-center">
                <div class="role-switcher">
                    <label>Demo Mode:</label>
                    <select id="roleSwitcher" class="form-control role-select">
                        <option value="farmer">üë®‚Äçüåæ Farmer</option>
                        <option value="distributor">üöö Distributor</option>
                        <option value="retailer">üè¨ Retailer</option>
                        <option value="consumer">üõí Consumer</option>
                        <option value="admin">‚öôÔ∏è Admin</option>
                    </select>
                </div>
            </div>
            <div class="nav-user">
                <span id="userRole" class="user-role">Farmer</span>
                <span id="userName" class="user-name">Green Valley Farms</span>
                <button class="btn btn--outline btn--sm" id="backToLanding">‚Üê Landing</button>
            </div>
        </nav>

        <!-- Sidebar Navigation -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-menu">
                <a href="#" class="menu-item active" data-section="home">
                    <i class="fas fa-home"></i>
                    <span>Home</span>
                </a>
                <a href="#" class="menu-item" data-section="batches">
                    <i class="fas fa-boxes"></i>
                    <span>Batches</span>
                </a>
                <a href="#" class="menu-item" data-section="transactions">
                    <i class="fas fa-receipt"></i>
                    <span>Transactions</span>
                </a>
                <a href="#" class="menu-item" data-section="qr">
                    <i class="fas fa-qrcode"></i>
                    <span>QR Codes</span>
                </a>
                <a href="#" class="menu-item" data-section="analytics">
                    <i class="fas fa-chart-bar"></i>
                    <span>Analytics</span>
                </a>
                <a href="#" class="menu-item" data-section="provenance">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </a>
            </div>
        </div>

        <!-- Dashboard Content -->
        <div class="dashboard-container">
            <!-- Farmer Dashboard -->
            <div id="farmerDashboard" class="dashboard farmer-theme">
                <div class="dashboard-header">
                    <div class="header-left">
                        <h1>Namaste Green Valley,</h1>
                        <p>here‚Äôs how your farm is growing today.</p>
                    </div>
                    <div class="header-actions">
                        <button class="btn btn--primary" id="addCropBtn">
                            <i class="fas fa-plus"></i> Add New Crop
                        </button>
                    </div>
                </div>

                <div id="home-section" class="dashboard-section">
                    <div class="stats-row">
                        <div class="stat-card green-theme">
                            <div class="stat-icon">üåø</div>
                            <div class="stat-content">
                                <h3>45</h3>
                                <p>Your Active Crops</p>
                                <span class="stat-change">+5 this month</span>
                            </div>
                        </div>
                        <div class="stat-card green-theme">
                            <div class="stat-icon">üí∏</div>
                            <div class="stat-content">
                                <h3>‚Çπ8,45,670</h3>
                                <p>Money Earned So Far</p>
                                <span class="stat-change">+23% vs last month</span>
                            </div>
                        </div>
                        <div class="stat-card green-theme">
                            <div class="stat-icon">üìà</div>
                            <div class="stat-content">
                                <h3>12</h3>
                                <p>Buyers Interested</p>
                                <span class="stat-change">Active bidding</span>
                            </div>
                        </div>
                        <div class="stat-card green-theme">
                            <div class="stat-icon">üåü</div>
                            <div class="stat-content">
                                <h3>4.8</h3>
                                <p>Farmer Reputation</p>
                                <span class="stat-change">Excellent</span>
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-grid">
                        <div class="chart-container">
                            <div class="chart-header">
                                <h3>Monthly Earnings Trend</h3>
                            </div>
                            <div style="position: relative; height: 300px;">
                                <canvas id="farmerEarningsChart"></canvas>
                            </div>
                        </div>
                        
                        <div class="recent-activity">
                            <h3>Recent Activity</h3>
                            <div class="activity-list" id="farmerActivity"></div>
                        </div>
                    </div>
                </div>

                <div id="batches-section" class="dashboard-section hidden">
                    <div class="crops-section">
                        <h3>My Crops</h3>
                        <div class="crops-grid" id="farmerCrops"></div>
                    </div>
                    <div class="auctions-section">
                        <h3>My Auctions</h3>
                        <div class="auctions-grid" id="farmerAuctions"></div>
                    </div>
                </div>

                <div id="transactions-section" class="dashboard-section hidden">
                    <h2>Your Transactions</h2>
                    <div class="table-container">
                        <table class="transaction-table">
                            <thead>
                                <tr>
                                    <th>Transaction ID</th>
                                    <th>Date</th>
                                    <th>Type</th>
                                    <th>Amount</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="farmerTransactions">
                                <tr>
                                    <td>0xabc...def1</td>
                                    <td>2025-09-28</td>
                                    <td>Sale (Organic Tomatoes)</td>
                                    <td>‚Çπ15,000</td>
                                    <td><span class="status-completed">Completed</span></td>
                                </tr>
                                <tr>
                                    <td>0x123...4562</td>
                                    <td>2025-09-27</td>
                                    <td>Purchase (Fertilizer)</td>
                                    <td>‚Çπ2,500</td>
                                    <td><span class="status-completed">Completed</span></td>
                                </tr>
                                <tr>
                                    <td>0x789...abc3</td>
                                    <td>2025-09-26</td>
                                    <td>Sale (Basmati Rice)</td>
                                    <td>‚Çπ12,000</td>
                                    <td><span class="status-pending">Pending</span></td>
                                </tr>
                                <tr>
                                    <td>0xdef...7894</td>
                                    <td>2025-09-25</td>
                                    <td>Sale (Premium Apples)</td>
                                    <td>‚Çπ18,000</td>
                                    <td><span class="status-completed">Completed</span></td>
                                </tr>
                                <tr>
                                    <td>0x456...1235</td>
                                    <td>2025-09-24</td>
                                    <td>Purchase (Seeds)</td>
                                    <td>‚Çπ3,000</td>
                                    <td><span class="status-failed">Failed</span></td>
                                </tr>
                                <tr>
                                    <td>0xfed...cba6</td>
                                    <td>2025-09-23</td>
                                    <td>Sale (Fresh Wheat)</td>
                                    <td>‚Çπ9,500</td>
                                    <td><span class="status-completed">Completed</span></td>
                                </tr>
                                <tr>
                                    <td>0x987...6547</td>
                                    <td>2025-09-22</td>
                                    <td>Sale (Organic Tomatoes)</td>
                                    <td>‚Çπ16,200</td>
                                    <td><span class="status-pending">Pending</span></td>
                                </tr>
                                <tr>
                                    <td>0x321...fed8</td>
                                    <td>2025-09-21</td>
                                    <td>Purchase (Pesticides)</td>
                                    <td>‚Çπ1,800</td>
                                    <td><span class="status-completed">Completed</span></td>
                                </tr>
                                <tr>
                                    <td>0x654...3219</td>
                                    <td>2025-09-20</td>
                                    <td>Sale (Basmati Rice)</td>
                                    <td>‚Çπ11,000</td>
                                    <td><span class="status-completed">Completed</span></td>
                                </tr>
                                <tr>
                                    <td>0x000...1110</td>
                                    <td>2025-09-19</td>
                                    <td>Sale (Premium Apples)</td>
                                    <td>‚Çπ20,500</td>
                                    <td><span class="status-completed">Completed</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div id="qr-section" class="dashboard-section hidden">
                    <h2>Generate QR Code</h2>
                    <div class="qr-generator">
                        <div class="form-group">
                            <label for="qrBatchId">Enter Batch ID to Generate QR Code</label>
                            <input type="text" id="qrBatchId" class="form-control" placeholder="e.g., 1">
                        </div>
                        <button id="generateQrBtn" class="btn btn--primary">Generate</button>
                        <div id="qrCodeContainer" class="qr-code-container"></div>
                    </div>
                </div>

                <div id="analytics-section" class="dashboard-section hidden">
                    <h2>Farm Analytics</h2>
                    <div class="analytics-grid">
                        
                    </div>
                    <div class="analytics-data-grid" id="farmerAnalyticsData">
                        <div class="stat-card green-theme">
                            <div class="stat-icon">üå±</div>
                            <div class="stat-content">
                                <h3>95%</h3>
                                <p>Germination Rate</p>
                            </div>
                        </div>
                        <div class="stat-card green-theme">
                            <div class="stat-icon">üíß</div>
                            <div class="stat-content">
                                <h3>1200L</h3>
                                <p>Water Usage (Daily)</p>
                            </div>
                        </div>
                        <div class="stat-card green-theme">
                            <div class="stat-icon">‚òÄÔ∏è</div>
                            <div class="stat-content">
                                <h3>8 hrs</h3>
                                <p>Sunlight Exposure</p>
                            </div>
                        </div>
                        <div class="stat-card green-theme">
                            <div class="stat-icon">üå°Ô∏è</div>
                            <div class="stat-content">
                                <h3>28¬∞C</h3>
                                <p>Avg. Temperature</p>
                            </div>
                        </div>
                        <div class="stat-card green-theme">
                            <div class="stat-icon">üêõ</div>
                            <div class="stat-content">
                                <h3>Low</h3>
                                <p>Pest Infestation</p>
                            </div>
                        </div>
                        <div class="stat-card green-theme">
                            <div class="stat-icon">üìà</div>
                            <div class="stat-content">
                                <h3>+15%</h3>
                                <p>Yield Forecast</p>
                            </div>
                        </div>
                        <div class="stat-card green-theme">
                            <div class="stat-icon">üí∞</div>
                            <div class="stat-content">
                                <h3>‚Çπ50k</h3>
                                <p>Expected Revenue</p>
                            </div>
                        </div>
                        <div class="stat-card green-theme">
                            <div class="stat-icon">üì¶</div>
                            <div class="stat-content">
                                <h3>3</h3>
                                <p>Batches in Auction</p>
                            </div>
                        </div>
                        <div class="stat-card green-theme">
                            <div class="stat-icon">üöö</div>
                            <div class="stat-content">
                                <h3>2</h3>
                                <p>Deliveries Scheduled</p>
                            </div>
                        </div>
                        <div class="stat-card green-theme">
                            <div class="stat-icon">‚≠ê</div>
                            <div class="stat-content">
                                <h3>4.9</h3>
                                <p>Customer Rating</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Distributor Dashboard -->
            <div id="distributorDashboard" class="dashboard distributor-theme hidden">
                <div id="distributor-home-section" class="dashboard-section">
                    <div class="dashboard-header">
                        <div class="header-left">
                            <h1><i class="fas fa-truck"></i> Distributor Dashboard</h1>
                            <p>AgriConnect Distribution Hub</p>
                        </div>
                    </div>

                    <div class="stats-row">
                        <div class="stat-card blue-theme">
                            <div class="stat-icon">üöö</div>
                            <div class="stat-content">
                                <h3>15</h3>
                                <p>Active Bids</p>
                                <span class="stat-change">Competitive bidding</span>
                            </div>
                        </div>
                        <div class="stat-card blue-theme">
                            <div class="stat-icon">üèÜ</div>
                            <div class="stat-content">
                                <h3>89</h3>
                                <p>Won Auctions</p>
                                <span class="stat-change">94.2% success rate</span>
                            </div>
                        </div>
                        <div class="stat-card blue-theme">
                            <div class="stat-icon">üì¶</div>
                            <div class="stat-content">
                                <h3>23</h3>
                                <p>Deliveries Pending</p>
                                <span class="stat-change">On schedule</span>
                            </div>
                        </div>
                        <div class="stat-card blue-theme">
                            <div class="stat-icon">‚ö†Ô∏è</div>
                            <div class="stat-content">
                                <h3>2</h3>
                                <p>Penalties</p>
                                <span class="stat-change">Low penalty rate</span>
                            </div>
                        </div>
                    </div>

                    <div class="dashboard-grid">
                        <div class="chart-container">
                            <div class="chart-header">
                                <h3>Bidding Success Rate</h3>
                            </div>
                            <div style="position: relative; height: 300px;">
                                <canvas id="distributorSuccessChart"></canvas>
                            </div>
                        </div>
                        
                        <div class="available-crops-preview">
                            <h3>Available Crops</h3>
                            <div class="crops-preview" id="distributorCropsPreview"></div>
                        </div>
                    </div>

                    <div class="requests-section">
                        <h3>Incoming Purchase Requests</h3>
                        <div class="requests-grid" id="purchaseRequests">
                            <!-- Requests will be loaded here by JavaScript -->
                        </div>
                    </div>
                </div>

                <div id="distributor-batches-section" class="dashboard-section hidden">
                    <h2>Your Acquired Batches & Bids</h2>
                    <div class="crops-grid" id="distributorBatches">
                        <div class="crop-card">
                            <div class="crop-card-header">
                                <h4>Organic Tomatoes</h4>
                                <div class="crop-variety">From: Green Valley Farms</div>
                            </div>
                            <div class="crop-card-body">
                                <div class="crop-details">
                                    <div class="crop-detail"><strong>Quantity:</strong> <span>800 kg</span></div>
                                    <div class="crop-detail"><strong>Won At:</strong> <span>‚Çπ42/kg</span></div>
                                    <div class="crop-detail"><strong>Status:</strong> <span class="status-transit">In Transit</span></div>
                                </div>
                            </div>
                            <div class="crop-card-footer">
                                <button class="btn btn--sm btn--outline">Track Shipment</button>
                            </div>
                        </div>
                        <div class="crop-card">
                            <div class="crop-card-header">
                                <h4>Premium Apples</h4>
                                <div class="crop-variety">From: Sunset Orchards</div>
                            </div>
                            <div class="crop-card-body">
                                <div class="crop-details">
                                    <div class="crop-detail"><strong>Quantity:</strong> <span>500 kg</span></div>
                                    <div class="crop-detail"><strong>Won At:</strong> <span>‚Çπ145/kg</span></div>
                                    <div class="crop-detail"><strong>Status:</strong> <span class="status-completed">Delivered</span></div>
                                </div>
                            </div>
                            <div class="crop-card-footer">
                                <button class="btn btn--sm btn--outline">View Invoice</button>
                            </div>
                        </div>
                        <div class="crop-card">
                            <div class="crop-card-header">
                                <h4>Basmati Rice</h4>
                                <div class="crop-variety">From: Green Valley Farms</div>
                            </div>
                            <div class="crop-card-body">
                                <div class="crop-details">
                                    <div class="crop-detail"><strong>Quantity:</strong> <span>2000 kg</span></div>
                                    <div class="crop-detail"><strong>My Bid:</strong> <span>‚Çπ83/kg</span></div>
                                    <div class="crop-detail"><strong>Status:</strong> <span class="status-pending">Bidding Active</span></div>
                                </div>
                            </div>
                            <div class="crop-card-footer">
                                <button class="btn btn--sm btn--primary">Increase Bid</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="distributor-transactions-section" class="dashboard-section hidden">
                    <h2>Your Transactions</h2>
                    <div class="table-container">
                        <table class="transaction-table">
                            <thead>
                                <tr>
                                    <th>Transaction ID</th>
                                    <th>Date</th>
                                    <th>Type</th>
                                    <th>Description</th>
                                    <th>Amount</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="distributorTransactions">
                                <tr>
                                    <td>0x1a2b...c3d4</td>
                                    <td>2025-09-27</td>
                                    <td>Purchase</td>
                                    <td>Won auction for Organic Tomatoes</td>
                                    <td>‚Çπ33,600</td>
                                    <td><span class="status-completed">Completed</span></td>
                                </tr>
                                <tr>
                                    <td>0x5e6f...g7h8</td>
                                    <td>2025-09-26</td>
                                    <td>Logistics</td>
                                    <td>Shipment for Premium Apples</td>
                                    <td>‚Çπ4,500</td>
                                    <td><span class="status-completed">Completed</span></td>
                                </tr>
                                <tr>
                                    <td>0x9i0j...k1l2</td>
                                    <td>2025-09-25</td>
                                    <td>Sale</td>
                                    <td>Sold Premium Apples to FreshMart</td>
                                    <td>‚Çπ85,000</td>
                                    <td><span class="status-pending">Pending Payment</span></td>
                                </tr>
                                <tr>
                                    <td>0x3m4n...o5p6</td>
                                    <td>2025-09-24</td>
                                    <td>Purchase</td>
                                    <td>Won auction for Fresh Wheat</td>
                                    <td>‚Çπ28,500</td>
                                    <td><span class="status-completed">Completed</span></td>
                                </tr>
                                <tr>
                                    <td>0x7q8r...s9t0</td>
                                    <td>2025-09-23</td>
                                    <td>Penalty</td>
                                    <td>Late delivery fee for Batch #112</td>
                                    <td>‚Çπ1,200</td>
                                    <td><span class="status-failed">Paid</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div id="distributor-qr-section" class="dashboard-section hidden">
                    <h2>Scan & Verify Batches</h2>
                    <p>Use this section to scan QR codes on incoming batches to verify their authenticity and details on the blockchain.</p>
                    <div id="distributor-qr-reader" style="width: 500px; margin-top: 20px;"></div>
                </div>

                <div id="distributor-analytics-section" class="dashboard-section hidden">
                    <h2>Your Performance Analytics</h2>
                    <div class="stats-row">
                        <div class="stat-card blue-theme">
                            <div class="stat-icon">üìà</div>
                            <div class="stat-content">
                                <h3>‚Çπ1,45,000</h3>
                                <p>Total Volume (This Month)</p>
                            </div>
                        </div>
                        <div class="stat-card blue-theme">
                            <div class="stat-icon">‚è±Ô∏è</div>
                            <div class="stat-content">
                                <h3>48 Hours</h3>
                                <p>Avg. Delivery Time</p>
                            </div>
                        </div>
                        <div class="stat-card blue-theme">
                            <div class="stat-icon">üçÖ</div>
                            <div class="stat-content">
                                <h3>Tomatoes</h3>
                                <p>Top Traded Crop</p>
                            </div>
                        </div>
                        <div class="stat-card blue-theme">
                            <div class="stat-icon">üí∞</div>
                            <div class="stat-content">
                                <h3>18.5%</h3>
                                <p>Average Profit Margin</p>
                            </div>
                        </div>
                    </div>
                    <div class="chart-container" style="margin-top: 40px;">
                        <div class="chart-header">
                            <h3>Purchase Volume by Crop Type (kg)</h3>
                        </div>
                        <div style="position: relative; height: 300px;">
                            <canvas id="distributorPurchaseChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Retailer Dashboard -->
            <div id="retailerDashboard" class="dashboard retailer-theme hidden">
                <div class="dashboard-header">
                    <div class="header-left">
                        <h1><i class="fas fa-store"></i> Retailer Dashboard</h1>
                        <p>FreshMart Supermarket Chain</p>
                    </div>
                    <div class="header-actions">
                        <div id="qr-reader" style="width: 500px"></div>
                    </div>
                </div>

                <div class="stats-row">
                    <div class="stat-card orange-theme">
                        <div class="stat-icon">‚úÖ</div>
                        <div class="stat-content">
                            <h3>156</h3>
                            <p>Batches Verified</p>
                            <span class="stat-change">All authentic</span>
                        </div>
                    </div>
                    <div class="stat-card orange-theme">
                        <div class="stat-icon">‚è∞</div>
                        <div class="stat-content">
                            <h3>3</h3>
                            <p>Shelf Life Alerts</p>
                            <span class="stat-change">Action required</span>
                        </div>
                    </div>
                    <div class="stat-card orange-theme">
                        <div class="stat-icon">üéØ</div>
                        <div class="stat-content">
                            <h3>96.8%</h3>
                            <p>Quality Score</p>
                            <span class="stat-change">Excellent</span>
                        </div>
                    </div>
                    <div class="stat-card orange-theme">
                        <div class="stat-icon">üí¨</div>
                        <div class="stat-content">
                            <h3>4.7</h3>
                            <p>Customer Rating</p>
                            <span class="stat-change">High satisfaction</span>
                        </div>
                    </div>
                </div>

                <div class="dashboard-grid">
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3>Weekly Verification Trends</h3>
                        </div>
                        <div style="position: relative; height: 300px;">
                            <canvas id="retailerVerificationChart"></canvas>
                        </div>
                    </div>
                    
                    <div class="inventory-alerts">
                        <h3>Inventory Alerts</h3>
                        <div class="alerts-list" id="retailerAlerts"></div>
                    </div>
                </div>

                <div class="marketplace-section">
                    <h3>Available from Distributors</h3>
                    <div class="batches-grid" id="retailerMarketplace">
                        <!-- Batches will be loaded here by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Consumer Dashboard -->
            <div id="consumerDashboard" class="dashboard consumer-theme hidden">
                <div class="dashboard-header">
                    <div class="header-left">
                        <h1><i class="fas fa-search"></i> Consumer Dashboard</h1>
                        <p>Verify your food's journey from farm to fork</p>
                    </div>
                </div>

                <div class="stats-row">
                    <div class="stat-card purple-theme">
                        <div class="stat-icon">üì±</div>
                        <div class="stat-content">
                            <h3>47</h3>
                            <p>QR Scans Performed</p>
                            <span class="stat-change">Active consumer</span>
                        </div>
                    </div>
                    <div class="stat-card purple-theme">
                        <div class="stat-icon">‚ù§Ô∏è</div>
                        <div class="stat-content">
                            <h3>12</h3>
                            <p>Favorite Products</p>
                            <span class="stat-change">Trusted choices</span>
                        </div>
                    </div>
                    <div class="stat-card purple-theme">
                        <div class="stat-icon">üõ°Ô∏è</div>
                        <div class="stat-content">
                            <h3>98.5%</h3>
                            <p>Trust Score</p>
                            <span class="stat-change">Verified purchases</span>
                        </div>
                    </div>
                    <div class="stat-card purple-theme">
                        <div class="stat-icon">üõí</div>
                        <div class="stat-content">
                            <h3>8</h3>
                            <p>Recent Purchases</p>
                            <span class="stat-change">This month</span>
                        </div>
                    </div>
                </div>

                <div class="qr-scanner-section">
                    <div class="scanner-card">
                        <div class="scanner-interface">
                            <div class="scanner-viewfinder">
                                <div class="scanner-corners"></div>
                                <i class="fas fa-camera scanner-icon"></i>
                            </div>
                            <button class="btn btn--primary btn--lg" id="simulateScanBtn">
                                <i class="fas fa-qrcode"></i> Simulate QR Scan
                            </button>
                        </div>
                    </div>
                    
                    <div class="product-search">
                        <h3>Or Search by Batch ID</h3>
                        <div class="search-input">
                            <input type="text" class="form-control" id="productIdInput" placeholder="Enter batch ID (e.g., 1)">
                            <button class="btn btn--primary" id="searchProductBtn">
                                <i class="fas fa-search"></i> Search
                            </button>
                        </div>
                    </div>
                </div>

                <div id="productJourney" class="product-journey hidden"></div>
            </div>

            <!-- Admin Dashboard -->
            <div id="adminDashboard" class="dashboard admin-theme hidden">
                <div class="dashboard-header">
                    <div class="header-left">
                        <h1><i class="fas fa-cog"></i> Admin Dashboard</h1>
                        <p>System Administration & Analytics</p>
                    </div>
                </div>

                <div class="stats-row">
                    <div class="stat-card teal-theme">
                        <div class="stat-icon">üåæ</div>
                        <div class="stat-content">
                            <h3>18,562</h3>
                            <p>Total Crops</p>
                            <span class="stat-change">+1,234 this month</span>
                        </div>
                    </div>
                    <div class="stat-card teal-theme">
                        <div class="stat-icon">üìà</div>
                        <div class="stat-content">
                            <h3>‚Çπ12.45Cr</h3>
                            <p>Volume Traded</p>
                            <span class="stat-change">+15% growth</span>
                        </div>
                    </div>
                    <div class="stat-card teal-theme">
                        <div class="stat-icon">üíπ</div>
                        <div class="stat-content">
                            <h3>23.4%</h3>
                            <p>Farmer Income Uplift</p>
                            <span class="stat-change">Positive impact</span>
                        </div>
                    </div>
                    <div class="stat-card teal-theme">
                        <div class="stat-icon">‚ö°</div>
                        <div class="stat-content">
                            <h3>99.8%</h3>
                            <p>System Health</p>
                            <span class="stat-change">Optimal performance</span>
                        </div>
                    </div>
                </div>

                <div class="dashboard-grid">
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3>Platform Growth</h3>
                        </div>
                        <div style="position: relative; height: 300px;">
                            <canvas id="platformGrowthChart"></canvas>
                        </div>
                    </div>
                    
                    <div class="blockchain-explorer">
                        <h3>Live Blockchain Events</h3>
                        <div class="events-list" id="blockchainEvents"></div>
                    </div>
                </div>

                <div class="contracts-section">
                    <h3>Smart Contracts</h3>
                    <div class="contracts-grid" id="smartContracts"></div>
                </div>
            </div>

            <!-- Provenance dApp Dashboard -->
            <div id="provenanceDashboard" class="dashboard hidden">
                <div id="app-container">
                    <h1>Blockchain Provenance dApp</h1>
            
                    <div id="messages"></div>
            
                    <!-- Blockchain Interaction Section -->
                    <div class="card">
                        <h2>Wallet Connection</h2>
                        <button id="connectButton">Connect Wallet</button>
                        <div id="walletInfo">
                            <p>Status: <span id="status">Not Connected</span></p>
                            <p>Account: <span id="account">N/A</span></p>
                        </div>
                    </div>
            
                    <div class="card">
                        <h2>Register a New Batch (Blockchain)</h2>
                        <div class="form-group">
                            <label for="ipfsHash">IPFS Hash:</label>
                            <input type="text" id="ipfsHash" placeholder="e.g., Qm..."/>
                        </div>
                        <button id="registerBatchButton">Register Batch</button>
                    </div>
            
                    <div class="card">
                        <h2>Get Batch Details (Blockchain)</h2>
                        <div class="form-group">
                            <label for="batchId">Batch ID:</label>
                            <input type="number" id="batchId" placeholder="e.g., 1"/>
                        </div>
                        <button id="getBatchButton">Get Batch</button>
                    </div>
            
                    <div class="card">
                        <h2>Get Total Batch Count (Blockchain)</h2>
                        <button id="getBatchCountButton">Get Count</button>
                    </div>
                    
                    <div class="card">
                        <h2>Transfer Batch Ownership (Blockchain)</h2>
                        <div class="form-group">
                            <label for="transferBatchId">Batch ID:</label>
                            <input type="number" id="transferBatchId" placeholder="e.g., 1"/>
                        </div>
                        <div class="form-group">
                            <label for="toAddress">To Address:</label>
                            <input type="text" id="toAddress" placeholder="e.g., 0x..."/>
                        </div>
                        <button id="transferButton">Transfer</button>
                    </div>
            
                    <div id="results" class="card">
                        <h2>Blockchain Results</h2>
                        <pre id="batchDetails"></pre>
                    </div>
            
                    <hr>
            
                    <!-- Database Interaction Section -->
                    <div class="card">
                        <h2>Test Database Connection</h2>
                        <button id="testDbButton">Test DB</button>
                        <div id="testDbStatus"></div>
                    </div>
            
                    <div class="card">
                        <h2>Create New User (Database)</h2>
                        <form id="createUserForm">
                        <div>
                            <label for="username">Username:</label>
                            <input type="text" id="username" name="username" required>
                        </div>
                        <div>
                            <label for="password">Password:</label>
                            <input type="password" id="password" name="password" required>
                        </div>
                        <div>
                            <label for="role">Role:
                            <select id="role" name="role" required>
                            <option value="">Select Role</option>
                            <option value="farmer">Farmer</option>
                            <option value="distributor">Distributor</option>
                            <option value="retailer">Retailer</option>
                            </select>
                        </div>
                        <button type="submit">Create User</button>
                        </form>
                    </div>
            
                    <div class="card">
                        <h2>Existing Users (Database)</h2>
                        <button id="refreshUsersButton">Refresh Users</button>
                        <div id="userList">
                        <p>No users yet.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Login/Register Modal -->
    <div id="authModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="authTitle">Login</h2>
                <button class="modal-close" id="closeAuthModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="loginForm">
                    <div class="form-group">
                        <label class="form-label">Username</label>
                        <input type="text" class="form-control" id="loginUsername" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" class="form-control" id="loginPassword" required>
                    </div>
                    <div class="modal-actions">
                        <button type="submit" class="btn btn--primary">Login</button>
                    </div>
                </form>
                <form id="registerForm" class="hidden">
                    <div class="form-group">
                        <label class="form-label">Username</label>
                        <input type="text" class="form-control" id="registerUsername" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" class="form-control" id="registerPassword" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Role</label>
                        <select class="form-control" id="registerRole" required>
                            <option value="farmer">Farmer</option>
                            <option value="distributor">Distributor</option>
                            <option value="retailer">Retailer</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Your Account</label>
                        <div class="wallet-input-group">
                            <input type="text" class="form-control" id="registerWalletAddress" required readonly>
                            <button type="button" class="btn btn--outline" id="connectWalletBtn">Connect</button>
                        </div>
                    </div>
                    <div class="modal-actions">
                        <button type="submit" class="btn btn--primary">Register</button>
                    </div>
                </form>
                <div class="auth-switch">
                    <p>Don't have an account? <a href="#" id="switchToRegister">Register</a></p>
                    <p>Already have an account? <a href="#" id="switchToLogin" class="hidden">Login</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Add Crop Modal -->
    <div id="addCropModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add New Crop</h2>
                <button class="modal-close" id="closeCropModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addCropForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">Crop Type</label>
                            <select class="form-control" id="cropType" required>
                                <option value="">Select crop type</option>
                                <option value="Organic Tomatoes">Organic Tomatoes</option>
                                <option value="Basmati Rice">Basmati Rice</option>
                                <option value="Premium Apples">Premium Apples</option>
                                <option value="Fresh Wheat">Fresh Wheat</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Variety</label>
                            <input type="text" class="form-control" id="cropVariety" placeholder="e.g., Roma Tomatoes" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Harvest Date</label>
                            <input type="date" class="form-control" id="harvestDate" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Quantity (kg)</label>
                            <input type="number" class="form-control" id="cropQuantity" placeholder="500" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Quality Grade</label>
                            <select class="form-control" id="qualityGrade" required>
                                <option value="Premium A+">Premium A+</option>
                                <option value="A Grade">A Grade</option>
                                <option value="B+ Grade">B+ Grade</option>
                                <option value="B Grade">B Grade</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Price per kg (‚Çπ)</label>
                            <input type="number" class="form-control" id="cropPrice" placeholder="45" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Location</label>
                        <input type="text" class="form-control" id="cropLocation" placeholder="Field-A, Green Valley" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Crop Image</label>
                        <input type="file" class="form-control" id="cropImage">
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn btn--secondary" id="cancelCrop">Cancel</button>
                        <button type="submit" class="btn btn--primary">
                            <i class="fas fa-plus"></i> Register Crop
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- QR Code Modal -->
    <div id="qrCodeModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>QR Code</h2>
                <button class="modal-close" id="closeQrCodeModal">&times;</button>
            </div>
            <div class="modal-body" id="qrCodeBody">
                <!-- QR Code will be injected here -->
            </div>
        </div>
    </div>

    <!-- Crop Details Modal -->
    <div id="cropDetailsModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Crop Details</h2>
                <button class="modal-close" id="closeCropDetailsModal">&times;</button>
            </div>
            <div class="modal-body" id="cropDetailsBody">
                <!-- Details will be injected here -->
            </div>
        </div>
    </div>

    <!-- Bid Modal -->
    <div id="bidModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Place Bid</h2>
                <button class="modal-close" id="closeBidModal">&times;</button>
            </div>
            <div class="modal-body">
                <div id="bidAuctionInfo" class="auction-info"></div>
                <form id="bidForm">
                    <div class="form-group">
                        <label class="form-label">Bid Amount (‚Çπ)</label>
                        <input type="number" class="form-control" id="bidAmount" step="0.01" required>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn btn--secondary" id="cancelBid">Cancel</button>
                        <button type="submit" class="btn btn--primary">
                            <i class="fas fa-gavel"></i> Place Bid
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Create Auction Modal -->
    <div id="createAuctionModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Create New Auction</h2>
                <button class="modal-close" id="closeAuctionModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="createAuctionForm">
                    <div class="form-group">
                        <label class="form-label">Batch ID</label>
                        <input type="number" class="form-control" id="auctionBatchId" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Starting Price (‚Çπ)</label>
                        <input type="number" class="form-control" id="startingPrice" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Auction Duration (minutes)</label>
                        <input type="number" class="form-control" id="auctionDuration" value="10" required>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn btn--secondary" id="cancelAuction">Cancel</button>
                        <button type="submit" class="btn btn--primary">Create Auction</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script type="module" src="/src/main.js"></script>
</body>
</html>
